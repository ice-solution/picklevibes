# Picklevibes 匹克球室預約系統 QA 測試計劃書

## 📋 測試計劃概述

**項目名稱**: Picklevibes 智能匹克球室預約系統  
**測試版本**: v1.0  
**測試日期**: 2024年1月  
**測試負責人**: QA團隊  
**測試環境**: 開發環境 (localhost:3000, localhost:5001)  

---

## 🎯 測試目標

1. 驗證系統核心功能正常運作
2. 確保用戶體驗流暢
3. 驗證數據完整性和一致性
4. 確保系統安全性和穩定性
5. 驗證單人場租用功能的正確性

---

## 📊 測試範圍

### ✅ 包含功能
- 用戶註冊/登入系統
- 場地預約功能
- 積分充值系統
- 單人場租用功能
- 管理員後台
- 支付系統
- 會員系統

### ❌ 不包含功能
- 第三方支付集成測試
- 性能壓力測試
- 安全滲透測試

---

## 🧪 測試用例

### 1. 用戶註冊與登入測試

#### TC001: 用戶註冊
**測試目標**: 驗證新用戶註冊功能  
**前置條件**: 系統正常運行  
**測試步驟**:
1. 訪問註冊頁面
2. 填寫有效用戶信息（姓名、郵箱、密碼、電話）
3. 點擊註冊按鈕
4. 檢查註冊結果

**預期結果**: 
- 註冊成功，跳轉到登入頁面
- 用戶信息正確保存到數據庫
- 初始積分餘額為0

#### TC002: 用戶登入
**測試目標**: 驗證用戶登入功能  
**前置條件**: 已註冊用戶  
**測試步驟**:
1. 訪問登入頁面
2. 輸入正確的郵箱和密碼
3. 點擊登入按鈕
4. 檢查登入結果

**預期結果**: 
- 登入成功，跳轉到首頁
- 顯示用戶信息
- 可以訪問預約功能

#### TC003: 登入失敗處理
**測試目標**: 驗證錯誤登入信息的處理  
**前置條件**: 已註冊用戶  
**測試步驟**:
1. 輸入錯誤的郵箱或密碼
2. 點擊登入按鈕
3. 檢查錯誤提示

**預期結果**: 
- 顯示錯誤提示信息
- 不允許登入
- 停留在登入頁面

---

### 2. 場地預約功能測試

#### TC004: 基本場地預約
**測試目標**: 驗證基本場地預約功能  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 訪問預約頁面
2. 選擇場地（比賽場/訓練場/單人場）
3. 選擇日期和時間
4. 填寫玩家信息
5. 確認預約
6. 檢查預約結果

**預期結果**: 
- 預約成功創建
- 扣除正確積分
- 場地時間段標記為已預約
- 收到預約確認

#### TC005: 單人場租用功能
**測試目標**: 驗證單人場租用功能  
**前置條件**: 已登入用戶，選擇比賽場  
**測試步驟**:
1. 選擇比賽場
2. 選擇日期和時間
3. 勾選"同時租用單人場"選項
4. 確認預約
5. 檢查預約記錄

**預期結果**: 
- 創建兩個預約記錄（比賽場+單人場）
- 扣除正確積分（主場地+100積分）
- 兩個場地都標記為已預約
- 單人場預約記錄包含特殊說明

#### TC006: 場地可用性檢查
**測試目標**: 驗證場地可用性檢查功能  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 選擇已預約的時間段
2. 嘗試創建新預約
3. 檢查系統響應

**預期結果**: 
- 顯示場地不可用
- 不允許創建預約
- 提示用戶選擇其他時間

#### TC007: VIP會員折扣
**測試目標**: 驗證VIP會員折扣功能  
**前置條件**: VIP會員用戶  
**測試步驟**:
1. 以VIP會員身份登入
2. 創建場地預約
3. 檢查價格計算

**預期結果**: 
- 價格顯示8折折扣
- 扣除積分為原價的80%
- 預約記錄包含折扣信息

---

### 3. 積分充值系統測試

#### TC008: 標準充值選項
**測試目標**: 驗證標準充值選項功能  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 訪問充值頁面
2. 選擇充值選項（500/1000/1200/2000積分）
3. 完成支付流程
4. 檢查積分餘額

**預期結果**: 
- 充值成功
- 積分餘額正確更新
- 生成充值記錄

#### TC009: 自定義充值金額
**測試目標**: 驗證自定義充值功能  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 選擇自定義充值
2. 輸入金額（≥100元）
3. 完成支付
4. 檢查積分餘額

**預期結果**: 
- 充值成功
- 積分 = 金額（1元=1積分）
- 生成充值記錄

#### TC010: 最低充值限制
**測試目標**: 驗證最低充值限制  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 選擇自定義充值
2. 輸入金額（<100元）
3. 嘗試完成支付
4. 檢查系統響應

**預期結果**: 
- 顯示錯誤提示
- 不允許充值
- 提示最低充值金額

---

### 4. 優惠代碼系統測試

#### TC011: 優惠代碼使用
**測試目標**: 驗證優惠代碼功能  
**前置條件**: 已登入用戶，有效優惠代碼  
**測試步驟**:
1. 在充值頁面輸入優惠代碼
2. 檢查折扣計算
3. 完成支付
4. 檢查最終金額

**預期結果**: 
- 優惠代碼有效
- 正確計算折扣
- 最終金額正確

#### TC012: 無效優惠代碼
**測試目標**: 驗證無效優惠代碼處理  
**前置條件**: 已登入用戶  
**測試步驟**:
1. 輸入無效或過期優惠代碼
2. 檢查系統響應

**預期結果**: 
- 顯示錯誤提示
- 不應用折扣
- 按原價計算

---

### 5. 管理員後台測試

#### TC013: 用戶管理
**測試目標**: 驗證管理員用戶管理功能  
**前置條件**: 管理員帳戶  
**測試步驟**:
1. 登入管理員後台
2. 查看用戶列表
3. 查看用戶詳情
4. 手動充值積分
5. 修改會員等級

**預期結果**: 
- 正確顯示用戶信息
- 可以手動充值
- 可以修改會員等級
- 操作記錄正確保存

#### TC014: 預約管理
**測試目標**: 驗證管理員預約管理功能  
**前置條件**: 管理員帳戶，存在預約記錄  
**測試步驟**:
1. 查看預約列表
2. 查看預約詳情
3. 取消預約
4. 檢查預約狀態

**預期結果**: 
- 正確顯示預約信息
- 可以取消預約
- 狀態更新正確
- 積分正確退還

#### TC015: 優惠代碼管理
**測試目標**: 驗證優惠代碼管理功能  
**前置條件**: 管理員帳戶  
**測試步驟**:
1. 創建新優惠代碼
2. 設置使用限制
3. 查看代碼列表
4. 編輯/刪除代碼

**預期結果**: 
- 成功創建優惠代碼
- 設置正確保存
- 可以編輯和刪除
- 使用統計正確

---

### 6. 會員系統測試

#### TC016: VIP會員升級
**測試目標**: 驗證VIP會員升級功能  
**前置條件**: 基本會員用戶  
**測試步驟**:
1. 訪問會員頁面
2. 選擇VIP會員方案
3. 完成升級流程
4. 檢查會員狀態

**預期結果**: 
- 成功升級為VIP會員
- 享受8折折扣
- 會員狀態正確更新

#### TC017: 會員到期檢查
**測試目標**: 驗證會員到期自動降級功能  
**前置條件**: 過期VIP會員  
**測試步驟**:
1. 等待定時任務執行
2. 檢查會員狀態
3. 驗證折扣變化

**預期結果**: 
- 自動降級為基本會員
- 不再享受VIP折扣
- 狀態更新正確

---

### 7. 數據一致性測試

#### TC018: 積分餘額一致性
**測試目標**: 驗證積分餘額計算正確性  
**前置條件**: 用戶有充值和使用記錄  
**測試步驟**:
1. 查看用戶積分餘額
2. 計算充值總額
3. 計算使用總額
4. 驗證餘額計算

**預期結果**: 
- 餘額 = 充值總額 - 使用總額
- 計算結果正確
- 數據一致

#### TC019: 預約記錄完整性
**測試目標**: 驗證預約記錄完整性  
**前置條件**: 存在預約記錄  
**測試步驟**:
1. 檢查預約記錄字段
2. 驗證關聯數據
3. 檢查時間戳
4. 驗證狀態一致性

**預期結果**: 
- 所有必要字段存在
- 關聯數據正確
- 時間戳準確
- 狀態一致

---

### 8. 錯誤處理測試

#### TC020: 網絡錯誤處理
**測試目標**: 驗證網絡錯誤處理  
**前置條件**: 模擬網絡錯誤  
**測試步驟**:
1. 模擬網絡中斷
2. 嘗試創建預約
3. 檢查錯誤處理
4. 恢復網絡後重試

**預期結果**: 
- 顯示適當錯誤信息
- 不創建不完整記錄
- 恢復後可以重試

#### TC021: 數據驗證錯誤
**測試目標**: 驗證數據驗證錯誤處理  
**前置條件**: 準備無效數據  
**測試步驟**:
1. 提交無效表單數據
2. 檢查驗證錯誤
3. 修正數據後重試

**預期結果**: 
- 顯示驗證錯誤信息
- 不提交無效數據
- 修正後可以成功提交

---

## 🔧 測試環境配置

### 前端環境
- **URL**: http://localhost:3000
- **瀏覽器**: Chrome, Firefox, Safari
- **設備**: 桌面端, 移動端

### 後端環境
- **API**: http://localhost:5001/api
- **數據庫**: MongoDB Atlas
- **服務器**: Node.js

### 測試數據
- **測試用戶**: test@example.com
- **管理員**: admin@example.com
- **測試場地**: 比賽場, 訓練場, 單人場

---

## 📈 測試執行計劃

### 階段1: 基礎功能測試 (1-2天)
- 用戶註冊/登入
- 基本場地預約
- 積分充值

### 階段2: 高級功能測試 (2-3天)
- 單人場租用
- VIP會員功能
- 優惠代碼系統

### 階段3: 管理功能測試 (1-2天)
- 管理員後台
- 數據管理
- 系統配置

### 階段4: 集成測試 (1-2天)
- 端到端測試
- 數據一致性
- 錯誤處理

---

## 📊 測試報告模板

### 測試執行摘要
- **總測試用例數**: 21
- **通過用例數**: ___
- **失敗用例數**: ___
- **通過率**: ___%

### 缺陷統計
- **嚴重缺陷**: ___
- **一般缺陷**: ___
- **輕微缺陷**: ___

### 測試結論
- [ ] 系統功能正常
- [ ] 用戶體驗良好
- [ ] 數據一致性正確
- [ ] 可以發布上線

---

## 🚨 風險評估

### 高風險項目
1. **支付系統**: 涉及金錢交易
2. **數據一致性**: 積分和預約記錄
3. **單人場租用**: 新增功能，需要重點測試

### 緩解措施
1. 增加支付流程測試用例
2. 加強數據一致性檢查
3. 重點測試單人場租用功能

---

## 📝 測試注意事項

1. **測試數據**: 使用專用測試數據，避免影響生產環境
2. **時間依賴**: 注意測試用例中的時間依賴性
3. **並發測試**: 考慮多用戶同時操作的場景
4. **數據清理**: 測試完成後清理測試數據
5. **回歸測試**: 修復缺陷後進行回歸測試

---

**文檔版本**: v1.0  
**最後更新**: 2024年1月  
**審核狀態**: 待審核  
